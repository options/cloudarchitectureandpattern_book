## 3.2 복원력(Resiliency), 보안(Security)

클라우드 환경에서의 아키텍처 설계에 있어 복원력과 보안은 그 자체로 각각 독립적인 핵심 주제이지만, 실제 환경에서는 서로 밀접하게 연결되어 있습니다. 복원력은 시스템이 장애 상황이나 예기치 않은 문제 상황에서도 정상적인 기능을 유지하도록 하는 능력을 다루며, 보안은 데이터 및 리소스를 악의적인 위협으로부터 보호하기 위한 전반적인 전략과 실행을 의미합니다. 두 요소 모두 고가용성(High Availability)이나 확장성(Scalability) 이상의 요구 수준을 담고 있으며, 특히 서비스가 분산되고 복잡성이 증가하는 클라우드 환경에서 그 중요성이 더욱 부각됩니다.

### 클라우드 환경에서 복원력의 의미와 구성 요소

복원력(Resiliency)이란 서비스 또는 시스템이 장애나 실패를 경험하더라도 이를 빠르게 식별하고 회복하여 시스템 전반의 영향을 최소화하는 능력을 의미합니다. 단순히 예외 상황을 잡고 에러 메시지를 반환하는 오류 처리 수준을 넘어서, 시스템 전반이 사용자에게 중단 없는 경험을 제공할 수 있도록 아키텍처 수준에서 준비되어 있어야 합니다.

복원력 설계는 보통 다음과 같은 구성 요소로 실현됩니다.

#### 장애 격리(Failure Isolation)

복원력 전략의 핵심 중 하나는 장애의 전파를 최소화하거나 차단하는 것입니다. 하나의 컴포넌트에 장애가 발생하더라도 이로 인해 전체 시스템이 중단되는 것을 방지하기 위해, 부품/서비스는 설계상 느슨하게 결합(loose coupling)되어야 하며, 각 서비스는 독립적으로 실패할 수 있어야 합니다. 예를 들어, 마이크로서비스 아키텍처에서는 서비스 간 호출 시 타임아웃, 재시도, 회로 차단(Circuit Breaker) 등의 패턴을 활용하여 격리를 수행합니다.

#### 자동 복구(Self-Healing)

클라우드 환경에서는 예외 상황을 자동으로 탐지하고, 특정 조건 충족 시 자동으로 복구 절차를 실행하는 것이 가능합니다. 예를 들어 AWS에서는 Auto Scaling 그룹이 헬스 체크(Health Check)를 통해 장애 인스턴스를 자동 종료하고 새로운 인스턴스를 생성하여 상태를 복구할 수 있도록 제공합니다. Kubernetes에서는 ReplicaSet과 livenessProbe/readinessProbe를 활용하여 파드 상태를 모니터링하고 필요 시 자동 재시작 또는 재배포합니다.

#### 이중화(Redundancy)와 페일오버(Failover)

복원력을 향상시키기 위한 가장 일반적인 방법 중 하나는 인프라, 컴포넌트, 혹은 데이터 저장소를 이중화하는 것입니다. 예컨대 여러 가용 영역(AZ, Availability Zone)에 인스턴스를 배포하고, 로드 밸런서를 통해 장애가 발생한 인스턴스를 자동으로 우회하도록 구성합니다. Active-Passive 혹은 Active-Active 구성으로 페일오버 전략을 구성할 수 있습니다. 다만 구성에 따라 비용과 복잡성이 증가하기 때문에 서비스를 고려한 면밀한 설계가 필요합니다.

#### 재시도 및 백오프 전략

일시적인 장애에 대해 최종 실패로 판단하기 전에 복수의 재시도 기회를 주는 것은 복원성 확보에 있어 중요한 파일럿 전략입니다. 그러나 무조건 반복해서 시도하면 오히려 하위 서비스에 과도한 부하를 유발하여 대규모 장애로 확산될 수 있습니다. 따라서 지수적 백오프(Exponential Backoff) 및 Jitter(Randomized Delay)와 같은 패턴을 함께 사용하는 것이 권장됩니다.

### 복원력 적용의 실제 사례

Netflix는 고도의 분산 시스템을 운영하면서도 탁월한 복원력을 확보한 사례로 자주 인용됩니다. 특히 그들은 "Chaos Engineering"이라는 실험적 장애 유도 방식을 도입하여, 실제 운영 중인 서비스에서 의도적으로 장애를 일으키고 시스템이 얼마나 잘 회복하는지를 검증하였습니다. 대표적인 예로 ‘Chaos Monkey’는 무작위로 인스턴스를 종료시켜 아키텍처가 자동으로 대처할 수 있도록 테스트하는 도구입니다.

또한 Amazon의 경우 서비스 간 호출에 있어서 반드시 타임아웃, 재시도, 회로 차단 설정을 통해 문제가 있는 미들웨어나 서브시스템이 전체 애플리케이션 성능에 영향을 미치지 않도록 설계되어 있습니다.

### 클라우드 환경에서 보안의 기본 원칙

복원력이 불가피한 장애나 운영 리스크에 대비하는 전략이라면, 보안은 주로 외부 위협 및 비인가 접근으로부터 시스템을 보호하기 위한 전략을 포함합니다. 클라우드 보안은 전통적인 온프레미스 보안보다 더욱 광범위하며 다계층적인 접근이 요구됩니다.

가장 주요한 보안 원칙을 다음과 같이 요약할 수 있습니다.

#### 최소 권한 원칙 (Principle of Least Privilege)

이 원칙은 사용자나 애플리케이션이 특정 작업을 수행하기 위해 꼭 필요한 최소한의 권한만을 부여해야 한다는 것을 의미합니다. 예를 들어 AWS IAM에서는 사용자에게 전체 S3 접근 권한을 부여하는 대신, 특정 버킷이나 객체에 한정된 Read 또는 Write 권한만을 설정하는 것이 바람직합니다.

이를 보다 엄격히 적용하기 위해서는 IAM Role 기반 접근 제어(Role-Based Access Control), 정책 기반 제어(Policy-based Access Control) 등을 전략적으로 활용할 수 있습니다.

#### 보안 그룹 및 네트워크 격리

퍼블릭 클라우드에서는 서비스 간 통신 경로를 IP, 포트 단위로 통제할 수 있는 방화벽 역할을 보안 그룹(Security Group)이나 네트워크 ACL을 통해 설정할 수 있습니다. 이와 더불어, 서비스들은 서로 다른 서브넷이나 VPC(가상 사설 네트워크) 상에서 논리적으로 분리되어 있어야 하며, 필요할 경우 AWS의 Transit Gateway, Azure Virtual WAN과 같은 고급 네트워크 서비스를 통해 접근 제어 수준을 강화할 수 있습니다.

#### 데이터 보안: 저장 시(At rest)와 전송 시(In transit)의 보호

클라우드에서는 정적인 데이터와 이동 중인 데이터를 모두 안전하게 보호해야 합니다. 이를 위해 다음과 같은 조치가 요구됩니다.

- 저장 시 암호화: AWS KMS(Key Management Service), Azure Key Vault 등이 제공하는 마스터 키 기반의 자동화된 암호화 구성.
- 전송 시 암호화: HTTPS(TLS), VPN, Direct Connect와 같은 암호화된 링크 사용을 기본값으로 설정.
- 키 관리 정책: 키 주기의 회전(Key Rotation), 액세스 로깅, 키를 사용할 수 있는 엔터티에 대한 엄격한 IAM 설정

#### 보안 이벤트 감지 및 대응 체계

클라우드에서는 대규모 환경에 대한 실시간 인시던트 탐지 및 반응 능력이 필수적으로 요구됩니다. 이를 위해 다음 요소들이 일반적으로 사용됩니다.

- 로깅 도구: AWS CloudTrail, Azure Activity Logs 등을 통한 API 호출 감지
- 정기적인 취약점 진단 및 컨테이너 이미지 스캔: Amazon Inspector, Azure Defender
- 침입 탐지 및 위협 인텔리전스 통합: GuardDuty, Security Center, Chronicle Backstory

이벤트가 감지되었을 경우에는 자동화된 대응(예: Lambda 함수, Azure Functions를 통한 자동 remediation)이 즉각 실행되어 피해를 최소화하는 구조를 갖추어야 합니다.

### 복원력과 보안의 시너지

복원력과 보안은 때로는 상호 조율이 필요한 긴장 관계를 형성하기도 합니다. 예를 들어, 너무 강하게 페일클로즈(Fail-close) 정책을 적용하면 경미한 이상 징후에도 전체 기능이 멈출 수 있으며, 반대로 너무 완화된 페일오픈(Fail-open) 정책은 보안상 허점을 제공할 수 있습니다. 따라서 설계 시에는 시스템의 중요도, 트래픽 특성, 레이턴시 목표, 외부 감사 요건 등을 종합적으로 고려하여 해당 컴포넌트에 가장 적절한 균형점을 잡는 접근이 필요합니다.

구체적인 예로, 인증 시스템에 장애가 발생한 상황을 생각해보겠습니다. 이 때 인증 없이 모든 요청을 허용하는 fail open 전략을 선택할 경우 심각한 보안 위협이 될 수 있으며, 반대로 모든 트래픽을 차단할 경우 다른 서비스에까지 연속적인 장애를 일으킬 수 있습니다. 따라서 이와 같은 상황에 대비하여 보조 인증 시스템을 마련하거나 캐시된 토큰의 제한적 사용을 허용하는 설계가 바람직할 것입니다.

### 마무리하며

복원력과 보안은 클라우드 아키텍처 설계에 있어 서로 보완적인 핵심 가치입니다. 복원력은 시스템의 장애에 대한 내성을 높이고, 보안은 예기치 못한 위협으로부터 서비스를 보호합니다. 이 두 축은 단순히 시스템의 일부 계층에서만 고려할 주제가 아니라, 애플리케이션 레벨부터 인프라, 운영 및 모니터링에 이르기까지 전방위적으로 녹아들어야 하는 설계 철학이기도 합니다.

결국 클라우드에서의 복원력과 보안은 더욱 예측 불가능하고 동적인 환경에서 서비스를 성공적으로 운영하고 성장시키기 위한 사전 투자이자 필수 역량이라 할 수 있습니다. 이를 위해 클라우드 네이티브 환경에 적합한 탄탄한 설계 원칙을 숙지하고, 실제 사례를 통해 이를 꾸준히 검증하고 보완해나가는 자세가 요구됩니다.