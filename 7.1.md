## 7.1 IAM(Identity & Access Management) 전략

클라우드 환경에서의 보안은 전통적인 데이터센터보다 훨씬 더 정교한 관리 전략을 요구합니다. 그 가운데서도 IAM(Identity & Access Management, 신원 및 접근 관리)은 전체 보안 구조의 근간을 이루는 요소이며, 클라우드 리소스와 사용자, 서비스 간의 신뢰 관계를 정의하는 핵심 역할을 담당합니다. 

IAM은 단지 사용자의 권한을 통제하는 기능에 국한되지 않고, 애플리케이션 간 신뢰, API 호출의 인증 및 권한 부여, 다양한 컴퓨팅 워크로드의 실행 주체에 대한 정책 적용까지 포함하는 광범위한 기능집합입니다. 따라서, 클라우드 아키텍트와 보안 설계자는 IAM 전략을 아키텍처 설계 초기 단계에서부터 깊이 고려해야 합니다.

### IAM이란 무엇인가

IAM은 `누가`, `무엇에`, `어떤 조건에서`, `어떻게 접근할 수 있는가`에 대한 정책을 정의하고 실현하는 메커니즘입니다. 일반적으로 IAM 시스템은 다음과 같은 구성요소를 포함합니다:

- 사용자(User) 및 그룹(Group): 인간 사용자를 포함하며, 역할 기반 접근 제어(RBAC)를 통해 그룹 단위 권한 부여가 가능합니다.
- 역할(Role): 일련의 권한을 정의한 엔터티로, 사용자 또는 서비스가 이를 임시로 획득하여 작업을 수행합니다.
- 정책(Policy): JSON으로 작성되는 권한 문서로, 특정 리소스에 대해 허용하거나 거부하는 접근 권한을 정의합니다.
- 자격 증명(Credentials): 비밀번호, API 키, 액세스 토큰, 인증서 등 리소스에 접근 시 사용되는 수단입니다.
- 신뢰 정책(Trust Policy): IAM 역할이 어떤 주체에 의해 가정(Assume)될 수 있는지를 정의합니다.

IAM 전략은 위의 구성요소들을 어떻게 모델링하고 정책을 체계적으로 설계할 것인지에 대한 방향성을 제공합니다.

### 최소 권한 원칙(Principle of Least Privilege)의 적용

IAM 전략의 핵심 원칙 중 하나는 ‘최소 권한 원칙(Least Privilege Principle)’입니다. 이는 사용자나 애플리케이션이 반드시 수행해야 하는 작업에 필요한 최소한의 권한만을 부여해야 한다는 원칙입니다.

예를 들어, AWS Lambda 함수가 S3 버킷에 있는 특정 경로의 파일을 읽기만 한다면, Lambda 함수가 assume하는 IAM 역할에는 S3 Read 권한만을, 그것도 정확한 버킷과 경로에 한정해서 적용해야 합니다.

정책 예시:

```json
{
  "Version": "2012-10-17",
  "Statement": [{
    "Effect": "Allow",
    "Action": ["s3:GetObject"],
    "Resource": ["arn:aws:s3:::my-data-bucket/logs/*"]
  }]
}
```

이처럼 구체적인 리소스 경로까지 지정하는 것은 실수나 침해 사고 발생 시 피해 범위를 국소화하는 데 큰 도움이 됩니다.

### 역할기반 접근제어(RBAC)와 속성기반 접근제어(ABAC)

IAM 설계에서는 권한의 부여 방식을 결정해야 합니다. 대표적인 방식은 RBAC(Role-Based Access Control)과 ABAC(Attribute-Based Access Control)입니다.

- RBAC는 역할 단위로 정책을 관리함으로써 관리 복잡도를 낮추는 장점이 있습니다. 예를 들어, ‘읽기전용 사용자’, ‘운영자’, ‘시스템 관리자’ 등으로 역할을 미리 정의해 두고, 사용자들을 이 역할에 매핑하는 방식입니다.
- ABAC는 태그(Tag), 요청시점 속성(Request attributes) 등을 기반으로 접근을 제어합니다. 예를 들어 사용자가 속한 프로젝트나 부서 등 메타데이터에 따라 권한을 동적으로 결정할 수 있습니다.

ABAC는 대규모 조직에서 더욱 세밀하고 동적인 권한 부여가 가능한 장점이 있으나, 구성 시 복잡성과 정책 오류의 가능성도 높습니다. 두 방식은 상호보완적으로 활용될 수 있으며, 특히 다중 계정/다중 환경을 운영하는 클라우드 환경에서는 ABAC 모델이 유용할 수 있습니다.

### 다중 계정 구조와 IAM 전략

기업 규모의 클라우드 운영에서는 하나의 클라우드 계정(Account)만으로 모든 리소스를 운용하는 것은 바람직하지 않습니다. 일반적으로는 환경별(예: 개발, 검증, 운영), 조직별(예: 마케팅, 데이터팀, SRE 등) 혹은 워크로드별(예: Batch, Real-time ML 등)로 계정을 분리하여 운영하고 이를 통합 관리합니다.

이 구조 하에서는 IAM 전략도 계정 간 신뢰 관계, 중앙집중식 ID 관리, 통합 로깅과 모니터링 등을 고려해야 합니다.

주요 고려사항은 다음과 같습니다:

- IAM 역할 위임: 각 계정에서 IAM 역할을 만들고, 중앙 ID 계정에서 이를 Assume Role 형태로 위임받아 접근합니다.
- SSO(Single Sign-On) 통합: SAML이나 OpenID Connect 기반의 ID 제공자(IdP)와 클라우드 IAM을 연동하여 통합 인증 체계를 구성합니다.
- SCP(Service Control Policy) 활용(특히 AWS 조직 구성 시): 최상위 조직 단위에서 하위 계정의 IAM 권한 범위를 한정지을 수 있습니다.

### 머신과 서비스 간의 IAM 관리

현대의 클라우드 애플리케이션은 대부분 정적인 자격 증명이 아니라, 동적 또는 임시 자격 증명(temporary credential)을 사용하여 보안성을 높입니다. 예를 들어 AWS에서는 EC2 인스턴스나 Lambda, ECS Task 등에 IAM 역할을 연결하면, 해당 서비스가 자동으로 단수 사용 가능한 보안 토큰(STS)을 발급받아 리소스에 접근할 수 있도록 합니다.

이를 위한 권장 전략은 다음과 같습니다:

- 항상 정적 API Key 대신 IAM 역할 기반 접근을 사용할 것
- IAM 역할의 수명을 가능한 단기로 유지할 것 (예: 15분~1시간 이내)
- 서비스 계정의 방만한 권한 남용을 방지하기 위한 Least Privilege 적용
- 서버리스, 컨테이너 환경(예: Kubernetes)에서도 Workload Identity를 통해 IAM 역할 매핑을 정교하게 구성할 것

Google Cloud의 경우 Workload Identity Federation을 통해 GKE나 서버리스 리소스에서도 IAM을 연동하는 방식으로 비슷한 기능을 제공합니다.

### 정책 설계 관점에서의 모범 사례

효과적인 IAM 정책을 설계하기 위해 다음과 같은 지침을 따르기를 권장드립니다:

1. 명시적으로 허용한 동작 외에는 모든 액세스를 암묵적으로 거부하는 정책을 기본으로 해야 합니다.
2. 관리형 정책(Managed Policy)을 무분별하게 사용하기보다, 업무 특성에 맞는 커스텀 정책을 구성하여 최소 권한 원칙을 유지해야 합니다.
3. 사용자의 직접 권한 부여보다는 그룹 또는 역할을 통해 권한을 상속시키는 구조를 사용하는 것이 권장됩니다.
4. CloudTrail, AWS Access Analyzer, GCP Policy Intelligence 등 도구를 통해 IAM 정책 사용현황을 정기적으로 점검하고, 과도한 권한이나 미사용 정책을 주기적으로 정비해야 합니다.

### 실무 적용 사례: 다국적 금융사의 IAM 아키텍처

한 다국적 금융 기업은 규제 준수와 보안 표준을 만족시키기 위해, 30개 이상의 클라우드 계정을 사용하면서 다음과 같은 IAM 구조를 구성하였습니다:

- 중앙 계정에 ID 제공자(IdP)로 Azure AD를 연동하여, 모든 인력의 인증 흐름을 관리함
- 환경별 계정(Dev/Test/Prod)에서는 IAM 역할만 존재하고, 중앙 계정에서 이 역할을 Assume함
- 내부 규제 기준에 따라 ‘개발자’, ‘보안 감사자’, ‘서비스 운영자’ 역할을 중앙에서 정의하고, 각 계정에서는 이에 따라 권한이 자동 할당되도록 프로비저닝 툴(Terraform)을 사용
- IAM 변경 사항과 SSO 로그인을 모두 CloudTrail과 로그 분석 시스템(SIEM)을 통해 감시

이 사례는 IAM의 통제 범위를 계정 단위로 분리하면서도, 중앙 통제를 유지할 수 있는 방식의 하나로, 대규모 기업 환경에서는 널리 적용될 수 있는 전략입니다.

### 맺음말

IAM 전략은 클라우드 보안 아키텍처의 가장 근본적이며 중요한 기둥입니다. 가장 엄격한 보안사고 예방도 IAM 설계가 부적절하다면 허무하게 무너질 수 있습니다. 반대로 IAM이 잘 설계되고 유지된다면, 서비스 개발자들은 보안을 신경 쓰면서도 빠른 개발을 진행할 수 있고, 보안팀은 예측 가능한 정책 내에서 관리를 지속할 수 있습니다. 

궁극적으로 IAM 전략은 단기 대응이 아닌 장기적 유지 관점에서, 조직의 컴플라이언스, 감사 준비, 개발속도, 자동화 대응까지 좌우하는 통합 전략이며, 이는 조직의 기술문화와 클라우드 성숙도를 반영하는 지표가 되기도 합니다.