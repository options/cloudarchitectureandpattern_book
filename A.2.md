## 과제명: "온라인 투표 시스템의 Stateless 아키텍처 설계 및 구현"

### 과제 목적

* Stateless 아키텍처의 개념과 장점을 실습을 통해 이해한다.
* 세션이나 상태 정보를 외부 저장소에 위임하는 설계를 직접 구현해본다.
* 수평 확장과 장애 복구가 가능한 구조를 설계한다.

## 시나리오

당신은 클라우드 환경에서 운영되는 **온라인 투표 시스템**의 백엔드 아키텍트를 맡았습니다.
이 시스템은 전국 어디서나 사람들이 접속해서 특정 주제에 투표를 할 수 있도록 설계되어야 하며, 다음 조건을 충족해야 합니다.

### 요구 사항

1. 사용자는 이메일 인증 후 투표를 진행할 수 있다.
2. 한 사용자는 한 번만 투표할 수 있다.
3. 사용자의 로그인 세션은 서버가 아니라 **클라이언트와 외부 저장소**에서 관리되어야 한다.
4. 시스템은 무중단 배포와 자동 확장을 지원해야 한다.
5. 모든 서버 인스턴스는 무상태(Stateless)로 설계되어야 한다.

## 🛠 과제 수행 항목

### 1. **시스템 설계**

* 전체 아키텍처를 다이어그램으로 설계하세요. 다음 요소를 포함해야 합니다:

  * API Gateway 또는 Reverse Proxy
  * 인증 처리 (JWT 또는 OAuth2)
  * Stateless한 Web Application 서버
  * 외부 저장소 (e.g., PostgreSQL, Redis, S3)
  * 로드 밸런서

> 📌 과제 포인트: 서버가 상태를 유지하지 않도록 어떤 요소들이 외부화되어야 하는지를 명확히 표현하세요.

### 2. **간단한 구현**

* 선택한 언어(Node.js, Python, Go 등)로 다음 기능을 구현하세요:

  * JWT 기반 사용자 인증 API
  * 투표 생성 및 투표 제출 API (단일 사용자 1회 제한)
  * Redis나 DB를 활용한 사용자 투표 여부 확인
* 모든 요청은 무상태로 동작해야 합니다. 세션은 서버 메모리에 저장하지 마세요.

> 📌 과제 포인트: 서버 인스턴스가 교체되어도 요청 처리가 영향을 받지 않도록 구성하세요.

### 3. **시뮬레이션**

* 가상의 사용자를 100명 이상 만들어 동시 요청을 발생시키는 시뮬레이션을 수행하고, 응답 시간과 시스템 안정성을 확인하세요.
* 서버를 수동으로 중단했다가 다시 시작하면서 장애 복구 시나리오를 검증하세요.

### 4. **작성 보고서 (요약 문서)**

* Stateless 설계의 장점과 한계
* 왜 상태를 외부 저장소에 위임해야 했는지 설명
* 본인이 구현한 구조의 단점 및 개선 방안

### 🎓 제출물

* 시스템 아키텍처 다이어그램 (PDF, PNG 등)
* 코드 저장소 (GitHub, GitLab 등)
* 시뮬레이션 결과 및 분석 리포트 (Markdown or PDF)
* 작성 보고서 (1\~2페이지 요약)

### 💡 보너스 도전 과제 (선택 사항)

* AWS Lambda, Azure Functions, Cloud Run 등 FaaS 기반으로 서버 구현
* 쿠버네티스에 배포하여 수평 확장 테스트 수행
* CI/CD 자동화 구성 (GitHub Actions, GitLab CI 등 활용)

## 📘 과제명: "이미지 업로드 처리 시스템의 Stateless 아키텍처 설계"

### 🎯 과제 목적

* 클라우드 환경에서 무상태(Stateless) 애플리케이션을 설계하고 구현하는 능력 배양
* 사용자 요청에 대한 비동기 처리 모델 이해
* 외부 스토리지 및 메시지 큐 기반 상태 위임 실습

## 🧩 시나리오

당신은 한 교육 플랫폼에서 사용자가 프로필 사진을 업로드하는 기능을 담당하고 있습니다. 사용자가 업로드한 이미지는 서버에서 리사이징되고 썸네일이 생성된 후 저장되어야 합니다. 사용량이 급증할 수 있으므로 **확장성과 복원력이 뛰어난 무상태 구조**로 구성되어야 하며, 서버 인스턴스 수를 유동적으로 조절할 수 있어야 합니다.

### 📌 시스템 요구 사항

1. 사용자는 웹 또는 모바일 앱에서 이미지를 업로드할 수 있다.
2. 서버는 이미지를 받아 \*\*외부 오브젝트 스토리지(S3 등)\*\*에 저장한 뒤, 이미지 처리 요청을 **비동기로 큐에 전달**한다.
3. 별도의 이미지 처리 워커가 썸네일을 생성하고, 결과를 다시 스토리지에 저장한다.
4. 모든 서버는 무상태로 운영되어야 하며, 세션이나 캐시를 로컬에 저장해서는 안 된다.
5. 동시에 다수의 사용자가 요청하더라도 시스템은 안정적으로 확장되어야 한다.

## 🛠 과제 수행 항목

### 1. **시스템 아키텍처 설계**

* 전체 구성도를 다이어그램으로 그리세요. 다음 구성 요소 포함:

  * API Gateway
  * Stateless Web Server (이미지 업로드 처리)
  * Object Storage (e.g., Amazon S3)
  * 메시지 큐 (e.g., Amazon SQS, RabbitMQ)
  * Worker (비동기 이미지 리사이징)
  * 상태 저장소 (메타데이터 저장용 DB)

> 💡 포인트: 모든 컴포넌트가 교체/재시작되어도 동작 일관성이 유지되어야 합니다.

### 2. **간단한 구현**

* Python, Node.js, 또는 Go를 사용하여 다음 기능을 구현하세요:

  * 이미지 업로드 API → S3에 저장
  * 이미지 메타데이터 기록 → DB (e.g., SQLite, PostgreSQL 등)
  * 메시지 큐에 이미지 처리 요청 발송
  * 별도 워커에서 썸네일 생성 후 다시 저장

> 조건: 서버는 Stateless로 구현되어야 하며, 요청 간 상태 공유 없음

### 3. **시뮬레이션 테스트**

* 100개의 이미지 업로드 요청을 병렬로 보낸 후:

  * 모든 이미지가 저장되었는지 확인
  * 썸네일이 정상 생성되었는지 확인
* 워커 프로세스를 중단 후 재시작하고, 큐에서 계속 작업을 이어받는지 확인

### 4. **분석 보고서**

* Stateless 아키텍처가 이 시나리오에서 어떤 이점을 제공했는지 분석
* 만약 상태를 서버 내에 유지했을 때 발생할 수 있는 문제점을 서술
* 구현 과정에서 발생한 장애나 문제점과 해결 과정 기술

## 🎓 제출물

| 항목         | 설명                    |
| ---------- | --------------------- |
| 아키텍처 다이어그램 | PDF 또는 PNG로 제출        |
| 코드 저장소     | GitHub 링크             |
| 테스트 결과 요약  | 처리 성공률, 오류율, 병렬 처리 확인 |
| 분석 보고서     | PDF 1\~2페이지 요약        |


## 💡 보너스 과제 (선택)

* 쿠버네티스 환경에 전체 시스템 배포 (Pod 간 Stateless 구조 유지)
* 이미지 처리에 GPU 또는 서버리스 함수(AWS Lambda 등) 연동
* 사용자별 업로드 이력 확인 API 구현

